<div class="detailedView">
    <div id="big" style="z-index: 999;"><canvas id="detailedCanvas" style="height: 100%; width: 100%"></canvas></div>
    {{interfaceManager.renderDetailedInitial()}}
</div>
<div id="detailedControl" ng-if="interfaceManager.menuActive=='Detailed'" class="row" style="margin-right: 0;">
    <div class="col-md-7">
        <b>Template Options:</b>
        <div class="detailedInput">
            <label>Template:</label>
            <select style="width: 180px" ng-init="$parent.interfaceManager.detailedViewTemplate = $parent.interfaceManager.getInitialTemplate()" ng-change="$parent.changedTemplate()" ng-model="$parent.interfaceManager.detailedViewTemplate" data-ng-options="t.index as t.id + ' - ' + t.name for t in $parent.templateManager.getTemplatesAsJson()"></select>
        </div>
        <div class="detailedInput">
            <div style="float: left; width:140px">
                <label>Scale: </label>
                <input style="width: 55px" type="text" ng-model="$parent.interfaceManager.detailedSettings.templateScale">
             </div>
            <div  style="margin-left: 140px">
                <input type="range" min="{{$parent.interfaceManager.detailedSettings.minScale}}" max="{{$parent.interfaceManager.detailedSettings.maxScale}}"  step="0.01" ng-change="$parent.interfaceManager.detailedSettings.setTemplateScale()" ng-model="$parent.interfaceManager.detailedSettings.templateScale">
            </div>
            <div class="clear"></div>
        </div>
        <div class="detailedInput">
            <div style="float: left; width:140px">
                <label>Offset: </label>
                <input style="width: 55px" type="text"  ng-model="$parent.interfaceManager.detailedSettings.templatePixelOffset">
            </div>
            <div  style="margin-left: 140px">
                <input type="range" min="0" max="{{$parent.interfaceManager.detailedSettings.maxTemplatePixelOffset}}"  step="1" ng-change="$parent.interfaceManager.detailedSettings.setTemplateOffset()" ng-model="$parent.interfaceManager.detailedSettings.templatePixelOffset">
            </div>
            <div class="clear"></div>
        </div>
        <div class="detailedInput">
            <div style="float: left; width:140px">
                <label>Redshift: </label>
                <input style="width: 55px" type="text" ng-change="$parent.changedTemplate()" ng-model="$parent.interfaceManager.detailedViewZ">
            </div>
            <div  style="margin-left: 140px">
                <input type="range" min={{$parent.interfaceManager.getMinRedshiftForDetailedTemplate()}} max="{{$parent.interfaceManager.detailedViewZMax}}" step="0.0001" ng-change="$parent.interfaceManager.detailedUpdateRequired=true" ng-model="$parent.interfaceManager.detailedViewZ">
            </div>
            <div class="clear"></div>
        </div>
        <div class="detailedInput">
            <div class="btn-group btn-group-justified">
                <div class="btn-group">
                    <button class="btn btn-sm btn-default" ng-model="interfaceManager.templateHasContinuum" btn-radio="false">Without continuum</button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-sm btn-default" ng-model="interfaceManager.templateHasContinuum" btn-radio="true">With continuum</button>
                </div>
            </div>
        </div>
        <div class="clear"></div>
        <div class="topspace">
            <b>Save this redshift with a QOP of:</b>
            <div class="btn-group btn-group-justified">
                <div class="btn-group">
                    <button class="btn btn-sm btn-danger" ng-click="$parent.interfaceManager.saveManual(1)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Illegible (1)</button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-sm btn-warning" ng-click="$parent.interfaceManager.saveManual(2)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Poor (2)</button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-sm btn-info" ng-click="$parent.interfaceManager.saveManual(3)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Good (3)</button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-sm btn-success" ng-click="$parent.interfaceManager.saveManual(4)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Great (4)</button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-5">
        <div>
            <b>Data Smoothing</b>
            <div class="detailedInput">
                <div style="float: left; width:105px">
                    <label style="width: 75px">Raw:</label>
                    <input style="width: 25px" type="text" ng-change="$parent.interfaceManager.changeRawSmooth()" ng-model="$parent.interfaceManager.detailViewRawSmooth">
                </div>
                <div  style="margin-left: 105px">
                    <input type="range" min="0" max="{{$parent.interfaceManager.detailViewSmoothMax}}"  step="1" ng-change="$parent.interfaceManager.changeRawSmooth()" ng-model="$parent.interfaceManager.detailViewRawSmooth">
                </div>
                <div class="clear"></div>
            </div>
            <div class="detailedInput">
                <div style="float: left; width:105px">
                    <label style="width: 75px">Processed:</label>
                    <input style="width: 25px" type="text" ng-change="$parent.interfaceManager.changeProcessedSmooth()" ng-model="$parent.interfaceManager.detailViewProcessedSmooth">
                </div>
                <div  style="margin-left: 105px">
                    <input type="range" min="0" max="{{$parent.interfaceManager.detailViewSmoothMax}}"  step="1" ng-change="$parent.interfaceManager.changeProcessedSmooth()" ng-model="$parent.interfaceManager.detailViewProcessedSmooth">
                </div>
                <div class="clear"></div>
            </div>
        </div>
        <div>
            <b>Spectral Lines</b>
            <ul class="list-unstyled" ng-class="{glowing:interfaceManager.detailedSettings.getWaiting()}">
                <li class="sline lined"  ng-click="$parent.interfaceManager.clickSpectralLine(i.id)" ng-class="{enabled:i.enabled}" ng-repeat="i in spectalLines.getAll() track by i.id">
                    {{i.label}}
                </li>
            </ul>
            <div class="clear"></div>
            <button class="btn btn-primary"  style="display: block; width: 200px; margin: 0 auto;" ng-click="$parent.interfaceManager.detailedSettings.toggleSpectralLines()">{{getSpectralLinePhrase()}}</button>
        </div>
    </div>
</div>