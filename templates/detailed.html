<div class="detailedView">
    <div id="detailedheader" class="navbar-inverse navbar" ng-if="hasActive()">
        <p><em>ID</em> {{getActive().id}} <em>NAME</em> {{getActive().name}}<em>RA</em> {{getActive().ra.toFixed(6)}} <em>DEC</em> {{getActive().dec.toFixed(6)}} <em>MAGNITUDE</em> {{getActive().magnitude.toFixed(2)}} <em>TYPE</em> {{getActive().type}}</p>
    </div>
    <canvas id="detailedCanvas" detailed-item></canvas>
</div>
<div id="detailedControl" class="row" style="margin-right: 0;">
    <div class="col-md-8">
        <div class="detailedInput">
            <label>Save result:</label>
            <div class="btn-group">
                <div class="btn-group"><button style="width:125px" class="btn btn-sm btn-danger" ng-click="saveManual(1)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Illegible (1)</button></div>
                <div class="btn-group"><button style="width:125px" class="btn btn-sm btn-warning" ng-click="saveManual(2)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Poor (2)</button></div>
                <div class="btn-group"><button style="width:125px" class="btn btn-sm btn-info" ng-click="saveManual(3)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Good (3)</button></div>
                <div class="btn-group"><button style="width:125px" class="btn btn-sm btn-success" ng-click="saveManual(4)" tooltip="Saved!"  tooltip-trigger="focus" tooltip-placement="bottom">Great (4)</button></div>
            </div>
            <div class="btn-group pull-right">
                <button class="btn btn-sm btn-primary" ng-click="resetToAutomatic()">Reset auto</button>
                <button class="btn btn-sm btn-primary" ng-click="resetToManual()">Reset manual</button>
            </div>
        </div>
        <div>
            <!--<b>Template Options:</b>-->
            <div class="detailedInput">
                <label>Template:</label>
                <select style="width: 250px" ng-model="settings.templateId" data-ng-options="t.id as t.id + ' - ' + t.name for t in getTemplatesList()"></select>
                <div class="btn-group">
                    <button class="btn btn-xs btn-default" ng-click="toggleTemplateHasContinuum()">{{getContinuumText()}}</button>
                </div>
            </div>
            <!--<div class="detailedInput">
                <div style="float: left; width:140px">
                    <label>Scale: </label>
                    <input style="width: 55px" type="text" ng-model="$parent.interfaceManager.detailedSettings.templateScale">
                </div>
                <div  style="margin-left: 140px">
                    <input type="range" min="{{$parent.interfaceManager.detailedSettings.minScale}}" max="{{$parent.interfaceManager.detailedSettings.maxScale}}"  step="0.01" ng-change="$parent.interfaceManager.detailedSettings.setTemplateScale()" ng-model="$parent.interfaceManager.detailedSettings.templateScale">
                </div>
                <div class="clear"></div>
            </div>
            <div class="detailedInput">
                <div style="float: left; width:140px">
                    <label>Offset: </label>
                    <input style="width: 55px" type="text"  ng-model="$parent.interfaceManager.detailedSettings.templatePixelOffset">
                </div>
                <div  style="margin-left: 140px">
                    <input type="range" min="{{-$parent.interfaceManager.detailedSettings.maxTemplatePixelOffset}}" max="{{$parent.interfaceManager.detailedSettings.maxTemplatePixelOffset}}"  step="1" ng-change="$parent.interfaceManager.detailedSettings.setTemplateOffset()" ng-model="$parent.interfaceManager.detailedSettings.templatePixelOffset">
                </div>
                <div class="clear"></div>
            </div>-->
            <div class="detailedInput">
                <div style="float: left; width:170px">
                    <label>Redshift: </label>
                    <input style="width: 55px" id="redshiftInput" type="text" ng-model="settings.redshift">
                </div>
                <div  style="margin-left: 170px">
                    <input type="range" min={{settings.bounds.redshiftMin}} max="{{settings.bounds.redshiftMax}}" step="0.0001" ng-model="settings.redshift">
                </div>
                <div class="clear"></div>
            </div>
            <div class="clear"></div>
        </div>
        <div class="blocky detailedInput clearfix" ng-if="hasActive()">
            <label>Top Results:</label>
            <div style="display: inline-block;" ng-if="showTopResults()">
                <div class="btn-group">
                    <button class="btn btn-sm btn-default" btn-radio="$index" ng-click="selectMatch(i)" ng-model="settings.matchedIndex" ng-repeat="i in getMatches() track by $index">{{$index + 1}}</button>
                </div>
                <p ng-show="isCurrentlyMatching()" class="inline" style="margin-left: 10px; line-height: 30px;"><strong>{{getMatchedTemplateName()}}</strong> at z = <strong>{{getMatchedTemplateRedshift()}}</strong></p>
                <div class="clearfix"></div>
            </div>
            <p class="inlineblock" ng-if="!hasMatchingDetails()">No results list found.<button style="margin-left: 20px;" class="btn btn-xs btn-primary pull-right" ng-click="reanalyseSpectra()">Reanalyse and get full results</button></p>
        </div>
    </div>
    <div class="col-md-4">
        <div>
            <div class="detailedInput">
                <div style="float: left; width:180px">
                    <label style="width: 150px">Raw Smooth:</label>
                    <input style="width: 25px" type="text" ng-model="settings.rawSmooth">
                </div>
                <div  style="margin-left: 180px">
                    <input type="range" min="0" max="{{bounds.maxSmooth}}"  step="1"  ng-model="settings.rawSmooth">
                </div>
                <div class="clear"></div>
            </div>
            <div class="detailedInput">
                <div style="float: left; width:180px">
                    <label style="width: 150px">Processed Smooth:</label>
                    <input style="width: 25px" type="text" ng-model="settings.processedSmooth">
                </div>
                <div  style="margin-left: 180px">
                    <input type="range" min="0" max="{{bounds.maxSmooth}}" step="1" ng-model="settings.processedSmooth">
                </div>
                <div class="clear"></div>
            </div>
        </div>
        <div class="detailedInput">
            <label style="width: 150px">Spectral Lines:</label>
            <button class="btn btn-primary btn-xs" style="display: inline-block;" ng-click="toggleSpectralLines()">{{getSpectralLinePhrase()}}</button>

            <ul class="list-unstyled" ng-class="{glowing:isWaitingForSpectralLine()}">
                <li class="sline lined" ng-class="{enabled:i.enabled}" ng-click="clickSpectralLine(i.id)" ng-repeat="i in getSpectralLines() track by i.id">
                    {{i.label}}
                </li>
            </ul>
            <div class="clear"></div>
        </div>
    </div>
</div>